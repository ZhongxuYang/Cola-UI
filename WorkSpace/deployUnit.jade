extends ./_page

block body
    c-split-pane.show-on-ready(direction="left" position="70%")
        .pane
            .v-box(height="100%")
                .box
                    c-panel(caption="查询条件")
                        .content
                            c-form#queryForm(bind="condition")
                                fields.cols-2
                                    field(property="deployUnitId")
                                    field
                                        label 类型
                                        c-dropdown(c-bind="deployUnit.typeId" valueProperty="name" textProperty="name" c-items="dictionary('11000')")
                                fields.cols-2
                                    field(property="kind")
                                    field(property="name")
                                fields.cols-1
                                    field
                                        .center(style="margin:0 auto")
                                            c-button.primary(icon="search" caption="查询" click="query")
                                            c-button(icon="undo" caption="重置" click="reset")
                    c-menu.secondary.bordered
                        a(caption="添加" icon="plus" click="add")
                        a(caption="删除" icon="minus" click="del")
                        a(caption="编辑" icon="edit" click="edit")
                        a(caption="保存" icon="save" click="save")
                        a(caption="显示" icon="unhide" click="dis")
                        .right.menu
                            c-pager.secondary.compact(bind="deployUnit")
                .flex-box
                    div
                        c-table#deployUnitTable.impact.striped(height="100%" sortMode="local" bind="deployUnit")
                            column($type="select" sortable="true")
                            column(property="deployUnitId" sortable="true")
                            column(property="typeId" sortable="true")
                            column(property="kind" sortable="true")
                            column(property="name" sortable="true")
            c-dialog#dis(closeable="false" width="100%" height="100%" animation="slide left")
                .content(style="height:100%")
                    c-menu.secondary.bordered
                        a.right(caption="关闭" click="disBack")
                    c-form#queryForm(bind="deployUnit")
                        fields.cols-2
                            field(property="deployUnitId")
                            field(property="name")
                        fields.cols-2
                            field(property="key")

            c-dialog#attributeDialog1(closeable="false" width="100%" height="100%" animation="slide left")
                .content(style="height:100%")
                    c-menu.secondary.bordered
                        a.right(caption="关闭" click="back")
                    c-form#queryForm(bind="deployUnit")
                        fields.cols-2
                            field(property="deployUnitId")
                            field
                                label 类型
                                c-dropdown(c-bind="deployUnit.typeId" valueProperty="name" textProperty="name" c-items="dictionary('11000')")
                        fields.cols-2
                            field(property="kind")
                            field(property="name")
                        fields.cols-2
                            field(property="ip")
                            field(property="port")
                        fields.cols-2
                            field(property="domainName")
                            field(property="contextName")
                        fields.cols-2
                            field(property="startPage")
                            field(property="testPage")
                        fields.cols-2
                            field(property="checkString")
                            field(property="hostname")
                        fields.cols-2
                            field(property="tickTime")
                            field(property="dataDir")
                        fields.cols-2
                            field(property="clientPort")
                            field(property="initLimit")
                        fields.cols-2
                            field(property="syncLimit")
                        fields.cols-1
                            field(property="description")
                        fields.cols-2
                            field(property="ownerUserId")
                            field(property="tenantId" readOnly="true")
                        fields.cols-2
                            field(property="partitionId" readOnly="true")
                            field(property="createDate" readOnly="true")
                        fields.cols-2
                            field(property="updateDate" readOnly="true")
                            field(property="createUserId" readOnly="true")
                        fields.cols-2
                            field(property="updateUserId" readOnly="true")

        .pane
            .v-box(height="100%")
                .box
                    c-menu.secondary.bordered
                        a(caption="添加" icon="plus" click="addChild")
                        a(caption="删除" icon="minus" click="delChild")
                        a(caption="编辑" icon="edit" click="editChild")
                        a(caption="保存" icon="save" click="saveChild")
                .flex-box
                    c-table#deployUnitTable.impact.striped(height="100%" sortMode="local" bind="deployUnit.deploynode")
                        column(property="kind" sortable="true")
                        column(property="name" sortable="true")

            c-dialog#attributeDialog2(closeable="false" width="100%" height="100%" animation="slide left")
                .content(style="height:100%")
                    c-menu.secondary.bordered
                        a.right(caption="关闭" click="backChild")
                    c-form#queryForm(bind="deployUnit.deploynode")
                        fields.cols-2
                            field(property="deployNodeId")
                            field(property="deployUnitId")
                        fields.cols-2
                            field(property="kind")
                            field(property="name")
                        fields.cols-2
                            field(property="typeId")
                            field(property="ip")
                        fields.cols-2
                            field(property="port")
                            field(property="status")
                        fields.cols-2
                            field
                                label 状态日期
                                c-datepicker(bind="deployUnit.deploynode.statusDate")
                            field(property="domainName")
                        fields.cols-2
                            field(property="contextName")
                            field(property="statusReason")
                        fields.cols-1
                            field(property="description")
                        fields.cols-2
                            field(property="ownerUserId")
                            field(property="tenantId" readOnly="true")
                        fields.cols-2
                            field(property="partitionId" readOnly="true")
                            field(property="createDate" readOnly="true")
                        fields.cols-2
                            field(property="updateDate" readOnly="true")
                            field(property="createUserId" readOnly="true")
                        fields.cols-2
                            field(property="updateUserId" readOnly="true")


append scripts
    script(src="type/Mine/deployUnit.js")